{"remainingRequest":"C:\\web\\learn\\devops\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web\\learn\\devops\\src\\views\\prod\\polardb\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web\\learn\\devops\\src\\views\\prod\\polardb\\index.vue","mtime":1637910599373},{"path":"C:\\web\\learn\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\learn\\devops\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\web\\learn\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\learn\\devops\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCg0KZXhwb3J0IGRlZmF1bHQgewogIG1ldGhvZHM6ewogICAgICB1c2VfcmVsYXRpdmUoKXsKICAgICAgICB0aGlzLmFic29sdWU9ZmFsc2UKICAgICAgfSwKICAgICAgY2hvb3NlX21ldGhvZCgpewogICAgICAgIGlmICh0aGlzLnRpbWVtZXRob2QgPT0gInJlbGF0aXZlIiApewogICAgICAgICAgdGhpcy51c2VfcmVsYXRpdmUoKQogICAgICAgIH0KICAgICAgfSwKICAgICAgaW5mbygpewogICAgICAgIHRoaXMuYWJzb2x1ZT10cnVlCiAgICAgICAgLyoqCiAgICAgICAgY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tLSIpCiAgICAgICAgY29uc29sZS5sb2codGhpcy5hYnNvbHV0ZXJSYW5nZVswXS5nZXRUaW1lKCkpCiAgICAgICAgY29uc29sZS5sb2codGhpcy51cmxOKQogICAgICAgICAgIGNvbnNvbGUubG9nKCItLS0tLS0tLS0tLS0tLS0iKQogICAgICAgICAgICoqLwogICAgICB9CiAgfSwKICBjb21wdXRlZDp7CiAgICBkZWZhdXRsX3JhbmdlKCl7CiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNyk7CiAgICAgIHJldHVybiBbc3RhcnQsIGVuZF07CiAgICB9LAogICAgdXJsUXBzKCl7CiAgICAgIGxldCB1cmxfUXBzID0gdGhpcy5VcmxQYW5lbCArICI0IgogICAgICBpZiAodGhpcy5hYnNvbHVlKXsKICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmFic29sdXRlclJhbmdlWzBdLmdldFRpbWUoKQogICAgICAgIGxldCBlbmQgPSB0aGlzLmFic29sdXRlclJhbmdlWzFdLmdldFRpbWUoKQogICAgICAgIHJldHVybiB1cmxfUXBzICsgIiZmcm9tPSIgKyBzdGFydCArICImdG89IiArIGVuZAogICAgICB9CiAgICAgIHJldHVybiAgdXJsX1FwcyArIHRoaXMudGltZXJhbmdlCiAgICB9LAogICAgdXJsU2xvd1F1ZXJpZXNQcygpewogICAgICBsZXQgc2xvd19xdWVyaWVzX3BzID0gdGhpcy5VcmxQYW5lbCArICI2IgogICAgICBpZiAodGhpcy5hYnNvbHVlKXsKICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmFic29sdXRlclJhbmdlWzBdLmdldFRpbWUoKQogICAgICAgIGxldCBlbmQgPSB0aGlzLmFic29sdXRlclJhbmdlWzFdLmdldFRpbWUoKQogICAgICAgIHJldHVybiBzbG93X3F1ZXJpZXNfcHMgKyAiJmZyb209Iisgc3RhcnQgKyImdG89IisgZW5kCiAgICAgIH0KICAgICAgcmV0dXJuICBzbG93X3F1ZXJpZXNfcHMrIHRoaXMudGltZXJhbmdlCiAgICB9LAogICAgdXJsU3lzbG9hZCgpewogICAgICBsZXQgc3lzX2xvYWQgPSB0aGlzLlVybFBhbmVsICsgIjIiCiAgICAgIGlmICh0aGlzLmFic29sdWUpewogICAgICAgIGxldCBzdGFydCA9IHRoaXMuYWJzb2x1dGVyUmFuZ2VbMF0uZ2V0VGltZSgpCiAgICAgICAgbGV0IGVuZCA9IHRoaXMuYWJzb2x1dGVyUmFuZ2VbMV0uZ2V0VGltZSgpCiAgICAgICAgcmV0dXJuIHN5c19sb2FkICsgIiZmcm9tPSIrIHN0YXJ0ICsiJnRvPSIrIGVuZAogICAgICB9CiAgICAgIHJldHVybiAgc3lzX2xvYWQgKyB0aGlzLnRpbWVyYW5nZQogICAgfSwKICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7CiAgICAgICAgdGltZW1ldGhvZDogInJlbGF0aXZlIiwKICAgICAgICBvcHRpb25zVGltZVNlbGVjdE1ldGhvbmQ6IFt7CiAgICAgICAgICB2YWx1ZTogJ3JlbGF0aXZlJywKICAgICAgICAgIGxhYmVsOiAn55u45a+55pe26Ze06YCJ5oupJwogICAgICAgIH0sIHsKICAgICAgICAgIHZhbHVlOiAnYWJzb2x1dGUnLAogICAgICAgICAgbGFiZWw6ICfnu53lr7nml7bpl7TpgInmi6knCiAgICAgICAgfV0sCiAgICBVcmxQYW5lbDogdGhpcy5HTE9CQUwuSW50ZXJuYWxQcm9tZXRoZXVzICsgIi9Kbm9wM3BwbnovcGxvYXJkYj9vcmdJZD0xJnRoZW1lPWxpZ2h0JnBhbmVsSWQ9IiAsCiAgICBwaWNrZXJPcHRpb25zOiB7CiAgICAgICAgICBzaG9ydGN1dHM6IFt7CiAgICAgICAgICAgIHRleHQ6ICfmnIDov5HkuKTlpKknLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDIpOwogICAgICAgICAgICAgIHBpY2tlci4kZW1pdCgncGljaycsIFtzdGFydCwgZW5kXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sewogICAgICAgICAgICB0ZXh0OiAn5pyA6L+R5LiA5ZGoJywKICAgICAgICAgICAgb25DbGljayhwaWNrZXIpIHsKICAgICAgICAgICAgICBjb25zdCBlbmQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBzdGFydC5zZXRUaW1lKHN0YXJ0LmdldFRpbWUoKSAtIDM2MDAgKiAxMDAwICogMjQgKiA3KTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDkuKrmnIgnLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDMwKTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRleHQ6ICfmnIDov5HkuInkuKrmnIgnLAogICAgICAgICAgICBvbkNsaWNrKHBpY2tlcikgewogICAgICAgICAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgIHN0YXJ0LnNldFRpbWUoc3RhcnQuZ2V0VGltZSgpIC0gMzYwMCAqIDEwMDAgKiAyNCAqIDkwKTsKICAgICAgICAgICAgICBwaWNrZXIuJGVtaXQoJ3BpY2snLCBbc3RhcnQsIGVuZF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgYWJzb2x1dGVyUmFuZ2U6ICcnLAogICAgICAgIGFic29sdWU6IGZhbHNlLAoKCgogICAgICBvcHRpb25zUmVsYXRpdmVUaW1lOiBbewogICAgICAgICAgICAgICB2YWx1ZTogJyZmcm9tPW5vdy01bSZ0bz1ub3cnLAogICAgICAgICAgICAgICBsYWJlbDogJ0xhc3QgNSBtaW5pdXRlcycKICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgdmFsdWU6ICcmZnJvbT1ub3ctMTVtJnRvPW5vdycsCiAgICAgICAgICAgICAgIGxhYmVsOiAnTGFzdCAxNSBtaW5pdXRlcycKICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgdmFsdWU6ICcmZnJvbT1ub3ctMzBtJnRvPW5vdycsCiAgICAgICAgICAgICAgIGxhYmVsOiAnTGFzdCAzMCBtaW5pdXRlcycKICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgdmFsdWU6ICcmZnJvbT1ub3ctMWgmdG89bm93JywKICAgICAgICAgICAgICAgbGFiZWw6ICdMYXN0IDEgaG91cicKICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgdmFsdWU6ICcmZnJvbT1ub3ctM2gmdG89bm93JywKICAgICAgICAgICAgICAgbGFiZWw6ICdMYXN0IDMgaG91cnMnCiAgICAgICAgICAgICB9LHsKICAgICAgICAgICAgICAgdmFsdWU6ICcmZnJvbT1ub3ctNmgmdG89bm93JywKICAgICAgICAgICAgICAgbGFiZWw6ICdMYXN0IDYgaG91cnMnCiAgICAgICAgICAgICB9LHsKICAgICAgICAgICAgICAgdmFsdWU6ICcmZnJvbT1ub3ctMTJoJnRvPW5vdycsCiAgICAgICAgICAgICAgIGxhYmVsOiAnTGFzdCAxMiBob3VycycKICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICB2YWx1ZTogJyZmcm9tPW5vdy0yNGgmdG89bm93JywKICAgICAgICAgICAgICAgbGFiZWw6ICdMYXN0IDI0IGhvdXJzJwogICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAgIHZhbHVlOiAnJmZyb209bm93LTJkJnRvPW5vdycsCiAgICAgICAgICAgICAgIGxhYmVsOiAnTGFzdCAyIGRheXMnCiAgICAgICAgICAgICB9LHsKICAgICAgICAgICAgICAgdmFsdWU6ICcmZnJvbT1ub3ctN2QmdG89bm93JywKICAgICAgICAgICAgICAgbGFiZWw6ICdMYXN0IDcgZGF5cycKICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICB2YWx1ZTogJyZmcm9tPW5vdy0zMGQmdG89bm93JywKICAgICAgICAgICAgICAgbGFiZWw6ICdMYXN0IDMwIGRheXMnCiAgICAgICAgICAgICB9LAogICAgICAgICAgICAgXSwKICAgICAgdGltZXJhbmdlOiAnJmZyb209bm93LTNoJnRvPW5vdycsDQogICAgfQ0KICB9Cn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/prod/polardb","sourcesContent":["<template>\r\n  <div style=\"padding:30px;\">\n    <el-select v-model=\"timemethod\" placeholder=\"请选择\" @change=\"choose_method\" >\n        <el-option\n          v-for=\"item in optionsTimeSelectMethond\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\">\n        </el-option>\n      </el-select>\n         <span v-show=\"timemethod=='absolute'\" >\n           <el-date-picker\n             v-model=\"absoluterRange\"\n             type=\"datetimerange\"\n             :picker-options=\"pickerOptions\"\n             range-separator=\"至\"\n             start-placeholder=\"开始日期\"\n             end-placeholder=\"结束日期\"\n             align=\"right\" @change=\"info\"  >\n           </el-date-picker>\n         </span>\n\n    <span v-show=\"timemethod=='relative'\">\n      <el-select   v-model=\"timerange\" placeholder=\"请选择\" @change=\"use_relative\" >\n          <el-option\n            v-for=\"item in optionsRelativeTime\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\">\n          </el-option>\n        </el-select>\n     </span>\n\n<iframe :src=urlQps width=\"100%\" height=\"300\" frameborder=\"0\"></iframe>\n<iframe :src=urlSlowQueriesPs width=\"100%\" height=\"300\" frameborder=\"0\"></iframe>\n<iframe :src=urlSysload width=\"100%\" height=\"300\" frameborder=\"0\"></iframe>\r\n  </div>\r\n</template>\r\n\r\n<script>\n\r\nexport default {\n  methods:{\n      use_relative(){\n        this.absolue=false\n      },\n      choose_method(){\n        if (this.timemethod == \"relative\" ){\n          this.use_relative()\n        }\n      },\n      info(){\n        this.absolue=true\n        /**\n        console.log(\"---------------\")\n        console.log(this.absoluterRange[0].getTime())\n        console.log(this.urlN)\n           console.log(\"---------------\")\n           **/\n      }\n  },\n  computed:{\n    defautl_range(){\n      const end = new Date();\n      const start = new Date();\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n      return [start, end];\n    },\n    urlQps(){\n      let url_Qps = this.UrlPanel + \"4\"\n      if (this.absolue){\n        let start = this.absoluterRange[0].getTime()\n        let end = this.absoluterRange[1].getTime()\n        return url_Qps + \"&from=\" + start + \"&to=\" + end\n      }\n      return  url_Qps + this.timerange\n    },\n    urlSlowQueriesPs(){\n      let slow_queries_ps = this.UrlPanel + \"6\"\n      if (this.absolue){\n        let start = this.absoluterRange[0].getTime()\n        let end = this.absoluterRange[1].getTime()\n        return slow_queries_ps + \"&from=\"+ start +\"&to=\"+ end\n      }\n      return  slow_queries_ps+ this.timerange\n    },\n    urlSysload(){\n      let sys_load = this.UrlPanel + \"2\"\n      if (this.absolue){\n        let start = this.absoluterRange[0].getTime()\n        let end = this.absoluterRange[1].getTime()\n        return sys_load + \"&from=\"+ start +\"&to=\"+ end\n      }\n      return  sys_load + this.timerange\n    },\n  },\r\n  data() {\r\n    return {\n        timemethod: \"relative\",\n        optionsTimeSelectMethond: [{\n          value: 'relative',\n          label: '相对时间选择'\n        }, {\n          value: 'absolute',\n          label: '绝对时间选择'\n        }],\n    UrlPanel: this.GLOBAL.InternalPrometheus + \"/Jnop3ppnz/ploardb?orgId=1&theme=light&panelId=\" ,\n    pickerOptions: {\n          shortcuts: [{\n            text: '最近两天',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 2);\n              picker.$emit('pick', [start, end]);\n            }\n          },{\n            text: '最近一周',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近一个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit('pick', [start, end]);\n            }\n          }, {\n            text: '最近三个月',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit('pick', [start, end]);\n            }\n          }]\n        },\n        absoluterRange: '',\n        absolue: false,\n\n\n\n      optionsRelativeTime: [{\n               value: '&from=now-5m&to=now',\n               label: 'Last 5 miniutes'\n             }, {\n               value: '&from=now-15m&to=now',\n               label: 'Last 15 miniutes'\n             }, {\n               value: '&from=now-30m&to=now',\n               label: 'Last 30 miniutes'\n             }, {\n               value: '&from=now-1h&to=now',\n               label: 'Last 1 hour'\n             }, {\n               value: '&from=now-3h&to=now',\n               label: 'Last 3 hours'\n             },{\n               value: '&from=now-6h&to=now',\n               label: 'Last 6 hours'\n             },{\n               value: '&from=now-12h&to=now',\n               label: 'Last 12 hours'\n             },{\n               value: '&from=now-24h&to=now',\n               label: 'Last 24 hours'\n             },{\n               value: '&from=now-2d&to=now',\n               label: 'Last 2 days'\n             },{\n               value: '&from=now-7d&to=now',\n               label: 'Last 7 days'\n             },{\n               value: '&from=now-30d&to=now',\n               label: 'Last 30 days'\n             },\n             ],\n      timerange: '&from=now-3h&to=now',\r\n    }\r\n  }\n}\r\n</script>\r\n"]}]}