{"remainingRequest":"C:\\web\\devops\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web\\devops\\src\\views\\query\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web\\devops\\src\\views\\query\\index.vue","mtime":1640915144833},{"path":"C:\\web\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\devops\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\web\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\devops\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRfYWxsX2JyYW5jaGVzIH0gZnJvbSAnQC9hcGkvcXVlcnknCmltcG9ydCB7IGdldF9yZWxlYXNlX3JlY29yZHMgfSBmcm9tICdAL2FwaS9xdWVyeScNCmV4cG9ydCBkZWZhdWx0IHsNCg0KCSAgICBtZXRob2RzOiB7DQoJICAgICAgdGFibGVSb3dDbGFzc05hbWUoe3Jvdywgcm93SW5kZXh9KSB7DQoJCQlpZiAodGhpcy5kYXRhc1tyb3dJbmRleF0ucmVsZWFzZWQgPT0gInllcyIgKXsNCgkJCQkJcmV0dXJuICAnc3VjY2Vzcy1yb3cnOw0KCQkJCX0gZWxzZSBpZiAodGhpcy5kYXRhc1tyb3dJbmRleF0ucmVsZWFzZWQgPT0gInllcyIpew0KCQkJCQkgcmV0dXJuICd3YXJuaW5nLXJvdyc7DQoJCQkJfQ0KCQkJCXJldHVybiAnJzsNCgkJCX0sDQoNCgkJIHNob3dfYnJhbmNoKCl7DQoJCQkgdmFyIHNlbGY9dGhpcw0KCQkJIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3NlbGVjdGVkUmVsZWFzZScsIHRoaXMuYnJhbmNoKQ0KCQkJIGxldCBzZWxlY3RlZFJlbGVhc2UgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzZWxlY3RlZFJlbGVhc2UiKQoNCiAgICAgICAgZ2V0X3JlbGVhc2VfcmVjb3Jkcyh7DQoJCQkgICAgIGJyYW5jaDogc2VsZWN0ZWRSZWxlYXNlLA0KCQkJICAgICBsYXN0TmFtZTogJ0ZsaW50c3RvbmUnfQ0KCQkJICAgKQ0KCQkJICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJCQkgCXNlbGYuZGF0YXMgPSByZXNwb25zZS5kYXRhOw0KCQkJIAljb25zb2xlLmxvZyhzZWxmLmRhdGFzKTsNCgkJCSAgIH0pDQoJCQkgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQoJCQkgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCgkJCSAgIH0pOw0KCQkJICAgc2VsZi5zaG93ID0gdHJ1ZQ0KCQkgfQ0KDQoJICAgIH0sDQoNCgoJIG1vdW50ZWQoKXsNCgkJICAgICAgICAgICB2YXIgc2VsZj10aGlzDQogICAgICAgICAgICBnZXRfYWxsX2JyYW5jaGVzKCkNCgkJCQkJICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsNCg0KCQkJCQkJc2VsZi5vcHRpb25zPSByZXNwb25zZS5kYXRhOw0KCQkJCQkvLwljb25zb2xlLmxvZyhzZWxmLm9wdGlvbnMpOw0KDQoJCQkJCSAgfSkNCgkJCQkJICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7DQoJCQkJCQljb25zb2xlLmxvZyhlcnJvcik7DQoJCQkJCSAgfSk7DQoNCg0KCQkJCQkgIGxldCBzZWxlY3RlZFJlbGVhc2UgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJzZWxlY3RlZFJlbGVhc2UiKQ0KCQkJCQkgIGlmIChzZWxlY3RlZFJlbGVhc2Upew0KCQkJCQkJICB0aGlzLmJyYW5jaCA9IHNlbGVjdGVkUmVsZWFzZQ0KDQoJCQkJCQkgIHRoaXMuc2hvd19icmFuY2goKQ0KCQkJCQkgIH0NCg0KDQoJCQkJfSwNCgkgZGF0YSgpew0KCQkgcmV0dXJuIHsNCgkJCSBzaG93OiAnc2hvdyBtZSB5eXknLA0KCQkJIGRhdGFzOltdLA0KCQkJIG9wdGlvbnM6IFtdLA0KCQkJIGJyYW5jaDogJycsDQoJCQkgc2hvdzogZmFsc2UNCgkJIH0NCgkgfQ0KDQogfQ0KDQoK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/query","sourcesContent":["<template>\n</template>\n\n<script>\n</script>\n\n<style>\n</style>\n<template>\r\n\t<div >\r\n\r\n\r\n\t\t\t  <el-select v-model=\"branch\" placeholder=\"分支选择\" @change=\"show_branch\" >\r\n\t\t\t    <el-option\r\n\t\t\t      v-for=\"item in options\"\r\n\t\t\t      :key=\"item.value\"\r\n\t\t\t      :label=\"item.label\"\r\n\t\t\t      :value=\"item.value\">\r\n\t\t\t    </el-option>\r\n\t\t\t  </el-select>\r\n\t\t\t  </el-aside>\r\n\t\t  <el-table v-if=\"this.show\"\r\n\t\t    :data=\"datas\" size=\"medium\"\n        height=\"800\" border\r\n\t\t    style=\"width: 100%\"\r\n\t\t    :row-class-name=\"tableRowClassName\" >\r\n\n\t\t  \t<el-table-column\r\n\t\t  \t  prop=\"service\"\r\n\t\t  \t  label=\"服务\"\r\n\t\t  \t  width=\"180\"\r\n\t\t  \t  >\r\n\t\t  \t</el-table-column>\r\n\t\t    <el-table-column\r\n\t\t      prop= \"requested\"\r\n\t\t      label=\"发布单提交\"\r\n\t\t      width=\"180\">\r\n\t\t    </el-table-column>\r\n\t\t    <el-table-column\r\n\t\t      prop=\"block\"\r\n\t\t      label=\"封板\"\r\n\t\t      width=\"180\">\r\n\t\t    </el-table-column>\r\n\t\t  \t<el-table-column\r\n\t\t  \t  prop=\"released\"\r\n\t\t  \t  label=\"已发布\"\r\n\t\t  \t  >\r\n\t\t  \t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t  prop=\"created\"\r\n\t\t\t  label=\"创建时间\"\r\n\t\t\t  >\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t  prop=\"deleted\"\r\n\t\t\t  label=\"删除时间\"\r\n\t\t\t  >\r\n\t\t\t</el-table-column>\r\n\n\r\n\t\t  </el-table>\n\n\n\n\r\n  </div>\n</template>\n\n<style>\n  .el-table .warning-row {\n    background: oldlace;\n  }\n\n  .el-table .success-row {\n    background: #f0f9eb;\n  }\n</style>\n\n<script>\r\nimport { get_all_branches } from '@/api/query'\nimport { get_release_records } from '@/api/query'\r\nexport default {\r\n\r\n\t    methods: {\r\n\t      tableRowClassName({row, rowIndex}) {\r\n\t\t\tif (this.datas[rowIndex].released == \"yes\" ){\r\n\t\t\t\t\treturn  'success-row';\r\n\t\t\t\t} else if (this.datas[rowIndex].released == \"yes\"){\r\n\t\t\t\t\t return 'warning-row';\r\n\t\t\t\t}\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\r\n\t\t show_branch(){\r\n\t\t\t var self=this\r\n\t\t\t sessionStorage.setItem('selectedRelease', this.branch)\r\n\t\t\t let selectedRelease = sessionStorage.getItem(\"selectedRelease\")\n\r\n        get_release_records({\r\n\t\t\t     branch: selectedRelease,\r\n\t\t\t     lastName: 'Flintstone'}\r\n\t\t\t   )\r\n\t\t\t   .then(function (response) {\r\n\t\t\t \tself.datas = response.data;\r\n\t\t\t \tconsole.log(self.datas);\r\n\t\t\t   })\r\n\t\t\t   .catch(function (error) {\r\n\t\t\t     console.log(error);\r\n\t\t\t   });\r\n\t\t\t   self.show = true\r\n\t\t }\r\n\r\n\t    },\r\n\r\n\n\t mounted(){\r\n\t\t           var self=this\r\n            get_all_branches()\r\n\t\t\t\t\t  .then(function (response) {\r\n\r\n\t\t\t\t\t\tself.options= response.data;\r\n\t\t\t\t\t//\tconsole.log(self.options);\r\n\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t  .catch(function (error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t  });\r\n\r\n\r\n\t\t\t\t\t  let selectedRelease = sessionStorage.getItem(\"selectedRelease\")\r\n\t\t\t\t\t  if (selectedRelease){\r\n\t\t\t\t\t\t  this.branch = selectedRelease\r\n\r\n\t\t\t\t\t\t  this.show_branch()\r\n\t\t\t\t\t  }\r\n\r\n\r\n\t\t\t\t},\r\n\t data(){\r\n\t\t return {\r\n\t\t\t show: 'show me yyy',\r\n\t\t\t datas:[],\r\n\t\t\t options: [],\r\n\t\t\t branch: '',\r\n\t\t\t show: false\r\n\t\t }\r\n\t }\r\n\r\n }\r\n\r\n\n</script>\r\n"]}]}