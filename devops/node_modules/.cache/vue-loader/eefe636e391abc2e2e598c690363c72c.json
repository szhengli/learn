{"remainingRequest":"C:\\web\\learn\\devops\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web\\learn\\devops\\src\\views\\resource\\service\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web\\learn\\devops\\src\\views\\resource\\service\\index.vue","mtime":1640916981609},{"path":"C:\\web\\learn\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\learn\\devops\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\web\\learn\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\learn\\devops\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IE1kaWFsb2cgZnJvbSAgIi4vY29tcG9uZW50cy9NZGlhbG9nLnZ1ZSIKICBpbXBvcnQgVnVlIGZyb20gJ3Z1ZScKICBpbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcKICBpbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnCiAgaW1wb3J0IHtzZXJ2aWNlX2FwcHJvdmV9IGZyb20gIkAvYXBpL3NlcnZpY2UuanMiCgoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBtb3VudGVkKCl7CiAgICAgIHRoaXMucmVsb2FkKCkKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgdGVzdCgpewogICAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICAgIHRoaXMucmVsb2FkKCkKICAgICAgICB9LDUwMCkKCiAgICAgICAgY29uc29sZS5sb2coIi0tLS0tLS0tLS0tLS0tLS0tY2FuIHRoZSBjYWxsIGZyb20gc29vbi0tLS0tLS0tLS0tLS0iKQogICAgICB9LAogICAgICAuLi5tYXBBY3Rpb25zKCdzZXJ2aWNlJyxbJ3JlbG9hZF9kYXRhJ10pICwKCiAgICAgIHJlbG9hZCgpewogICAgICAgIHRoaXMucmVsb2FkX2RhdGEoInJlbG9hZF9kYXRhIikKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlcnZpY2VkYXRhKQogICAgICB9LAogICAgICBoYW5kbGVBcHByb3ZlKGluZGV4LCByb3cpIHsKICAgICAgCQkJbGV0IGl0ID0gdGhpcwogICAgICAJCQlzZXJ2aWNlX2FwcHJvdmUoeyJpZCI6cm93LmlkfSkKICAgICAgCQkJICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCiAgICAgICAgICAgICAgaXQucmVsb2FkKCkKCgogICAgICAJCQkgIH0pCiAgICAgIAkJCSAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAJCQkJY29uc29sZS5sb2coZXJyb3IpOwogICAgICAJCQkgIH0pOwoKCiAgICAgIAkJCWNvbnNvbGUubG9nKGluZGV4LCByb3cpOwogICAgICB9LAogICAgICBzaG93Rm9ybSgpewogICAgICAgIHRoaXMuc2hvd0RpYWxvZz10cnVlCiAgICAgICAgLyoqCiAgICAgICAgbGV0IGZvcm0gPSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0nKQogICAgICAgIGxldCBjaGlsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCiAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdpZCcsICdyZXBvcnRzJykKICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGNoaWxkKQoKICAgICAgICBuZXcgVnVlKHsKICAgICAgICAgIGVsOiAnI3JlcG9ydHMgJywKICAgICAgICAgIHJlbmRlcjogKGgpID0+IHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzCiAgICAgICAgICAgIHJldHVybiBoKAogICAgICAgICAgICAgIE1kaWFsb2cse29uOnsKICAgICAgICAgICAgICAgIHh4eCA6IGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIi0tLXh4eC0tIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9fQogICAgICAgICAgICApCiAgICAgICAgICB9LAoKCiAgICAgICAgfSkKCiAgICAgICAgKiovCiAgICAgIH0sCgogICAgfSwKICBjb21wdXRlZDp7CiAgICAuLi5tYXBTdGF0ZSgnc2VydmljZScsewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZWRhdGE6IHN0YXRlPT4gc3RhdGUuZGF0YSwKICAgICAgICAgICAgICAgICAgICAgIH0pICwKCQlnZXRfc3RhdHVzOiBmdW5jdGlvbigpewoJCQlyZXR1cm4gZnVuY3Rpb24oc2NvcGUpewoJCQkJbGV0IHN0eWxlID0gIiIKCQkJCXN3aXRjaCAoc2NvcGUucm93LnN0YXR1cykgewoJCQkJCWNhc2UgImFwcHJvdmVkIjoKCQkJCQkJc3R5bGUgPSAid2FybmluZyIKCQkJCQkJYnJlYWs7CgkJCQkJY2FzZSAiZmFpbGVkIjoKCQkJCQkJc3R5bGUgPSAiZGFuZ2VyIgoJCQkJCQlicmVhayA7CgkJCQkJY2FzZSAic3VjY2VzcyI6CgkJCQkJCXN0eWxlID0gInN1Y2Nlc3MiCgkJCQkJCWJyZWFrIDsKICAgICAgICAgIGNhc2UgInBlbmRpbmciOgogICAgICAgICAgc3R5bGUgPSAiIgogICAgICAgICAgYnJlYWsgOwoJCQkJCWRlZmF1bHQ6CgkJCQkJCXN0eWxlID0gImluZm8iCgkJCQl9CgoJCQkJcmV0dXJuIHN0eWxlCgkJCX0KCQl9Cgl9CSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBNZGlhbG9nCiAgICAgIH0sCgogICAgZGF0YSgpewogICAgICByZXR1cm4gewogICAgICAgIGNpdHk6ICdzdXpob3UnLAogICAgICAgIHNlcnZpY2VMaXN0OiBbXSwKICAgICAgICBzaG93RGlhbG9nOiBmYWxzZQoKICAgICAgfQogICAgfQogIH0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/resource/service","sourcesContent":["<template>\n  <div>\n <el-button type=\"primary\" size=\"mini\" @click=\"showForm\" icon=\"el-icon-plus\">新建申请</el-button>\n <br>\n  <br>\n   <br>\n    <br>\n     <br>\n    <el-table border\n      :data=\"servicedata\"\n      style=\"width: 100%\">\n      <el-table-column\n        prop=\"id\"\n        label=\"ID\"\n        width=\"50\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"name\"\n        label=\"项目名\"\n        width=\"100\">\n      </el-table-column>\n\n\n\n      <el-table-column\n        prop=\"applyTime\"\n        label=\"申请时间\"\n        width=\"180\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"applicant\"\n        label=\"申请人\"\n        width=\"80\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"backend\"\n        label=\"前后端\"\n        width=\"100\">\n\n      </el-table-column>\n\n      <el-table-column\n        prop=\"category\"\n        label=\"类别\"\n        width=\"50\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"testDnsName\"\n        label=\"测试域名\"\n        width=\"180\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"proxyTo\"\n        label=\"反向代理\"\n        width=\"100\">\n      </el-table-column>\n\n      <el-table-column\n        prop=\"middlewares\"\n        label=\"中间件\"\n        width=\"220\">\n\n        <template slot-scope=\"scope\">\n          <el-tag v-for=\"item in scope.row.middlewares\"\n            type='style=\"info\"'\n            disable-transitions> {{item}}\n          </el-tag>\n        </template>\n\n      </el-table-column>\n\n      <el-table-column\n        prop=\"status\"\n        label=\"状态\" width=\"200\">\n\n\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t  <el-tag\r\n          :type=\"get_status(scope)\"\r\n          disable-transitions>{{scope.row.status}}\n        </el-tag>\r\n\t\t\t</template>\n\n      </el-table-column>\n\n      <el-table-column\n        align=\"right\" >\n\n        <template slot=\"header\" slot-scope=\"scope\">\n          操作\n        </template>\n\n        <template slot-scope=\"scope\">\n\n      \t\t\t\t\t<el-button  v-if=\"scope.row.operator\"\n      \t\t\t\t\t  size=\"mini\"\n      \t\t\t\t\t  type=\"danger\"\n      \t\t\t\t\t  @click=\"handleApprove(scope.$index, scope.row)\">批准</el-button>\n\n      \t\t\t\t\t<el-button\n      \t\t\t\t\t  size=\"mini\"\n      \t\t\t\t\t  type=\"primary\"\n      \t\t\t\t\t  @click=\"showAprrove(scope.row.record)\">处理详情</el-button>\n\n        </template>\n      </el-table-column>\n\n    </el-table>\n\n    <div id='form' > </div>\n      <Mdialog  @Ereload=\"test\" v-if=\"showDialog\"></Mdialog>\n    </div>\n\n</template>\n\n<script>\n  import Mdialog from  \"./components/Mdialog.vue\"\n  import Vue from 'vue'\n  import { mapActions } from 'vuex'\n  import { mapState } from 'vuex'\n  import {service_approve} from \"@/api/service.js\"\n\n\n  export default {\n    mounted(){\n      this.reload()\n    },\n    methods:{\n      test(){\n        setTimeout(()=>{\n          this.reload()\n        },500)\n\n        console.log(\"-----------------can the call from soon-------------\")\n      },\n      ...mapActions('service',['reload_data']) ,\n\n      reload(){\n        this.reload_data(\"reload_data\")\n        console.log(this.servicedata)\n      },\n      handleApprove(index, row) {\n      \t\t\tlet it = this\n      \t\t\tservice_approve({\"id\":row.id})\n      \t\t\t  .then(function (response) {\n\n              it.reload()\n\n\n      \t\t\t  })\n      \t\t\t  .catch(function (error) {\n      \t\t\t\tconsole.log(error);\n      \t\t\t  });\n\n\n      \t\t\tconsole.log(index, row);\n      },\n      showForm(){\n        this.showDialog=true\n        /**\n        let form =  document.getElementById('form')\n        let child = document.createElement('div')\n        child.setAttribute('id', 'reports')\n        form.appendChild(child)\n\n        new Vue({\n          el: '#reports ',\n          render: (h) => {\n            var self = this\n            return h(\n              Mdialog,{on:{\n                xxx : function(event){\n                  console.log(\"---xxx--\")\n                }\n              }}\n            )\n          },\n\n\n        })\n\n        **/\n      },\n\n    },\n  computed:{\n    ...mapState('service',{\n                            servicedata: state=> state.data,\n                      }) ,\r\n\t\tget_status: function(){\r\n\t\t\treturn function(scope){\r\n\t\t\t\tlet style = \"\"\r\n\t\t\t\tswitch (scope.row.status) {\r\n\t\t\t\t\tcase \"approved\":\r\n\t\t\t\t\t\tstyle = \"warning\"\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"failed\":\r\n\t\t\t\t\t\tstyle = \"danger\"\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"success\":\r\n\t\t\t\t\t\tstyle = \"success\"\r\n\t\t\t\t\t\tbreak ;\n          case \"pending\":\n          style = \"\"\n          break ;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tstyle = \"info\"\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn style\r\n\t\t\t}\r\n\t\t}\r\n\t}\t,\n    components: {\n        Mdialog\n      },\n\n    data(){\n      return {\n        city: 'suzhou',\n        serviceList: [],\n        showDialog: false\n\n      }\n    }\n  }\n</script>\n\n<style>\n</style>\n"]}]}