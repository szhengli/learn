{"remainingRequest":"C:\\web\\learn\\devops\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web\\learn\\devops\\src\\views\\query\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web\\learn\\devops\\src\\views\\query\\index.vue","mtime":1646622449633},{"path":"C:\\web\\learn\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\learn\\devops\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\web\\learn\\devops\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\web\\learn\\devops\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldF9hbGxfYnJhbmNoZXMgfSBmcm9tICdAL2FwaS9xdWVyeScKaW1wb3J0IHsgZ2V0X3JlbGVhc2VfcmVjb3JkcyB9IGZyb20gJ0AvYXBpL3F1ZXJ5JwpleHBvcnQgZGVmYXVsdCB7CgoJICAgIG1ldGhvZHM6IHsKCSAgICAgIHRhYmxlUm93Q2xhc3NOYW1lKHtyb3csIHJvd0luZGV4fSkgewoJCQlpZiAodGhpcy5kYXRhc1tyb3dJbmRleF0ucmVsZWFzZWQgPT0gInllcyIgKXsKCQkJCQlyZXR1cm4gICdzdWNjZXNzLXJvdyc7CgkJCQl9IGVsc2UgaWYgKHRoaXMuZGF0YXNbcm93SW5kZXhdLnJlbGVhc2VkID09ICJ5ZXMiKXsKCQkJCQkgcmV0dXJuICd3YXJuaW5nLXJvdyc7CgkJCQl9CgkJCQlyZXR1cm4gJyc7CgkJCX0sCgoJCSBzaG93X2JyYW5jaCgpewoJCQkgdmFyIHNlbGY9dGhpcwoJCQkgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc2VsZWN0ZWRSZWxlYXNlJywgdGhpcy5icmFuY2gpCgkJCSBsZXQgc2VsZWN0ZWRSZWxlYXNlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgic2VsZWN0ZWRSZWxlYXNlIikKCiAgICAgICAgZ2V0X3JlbGVhc2VfcmVjb3Jkcyh7CgkJCSAgICAgYnJhbmNoOiBzZWxlY3RlZFJlbGVhc2UsCgkJCSAgICAgbGFzdE5hbWU6ICdGbGludHN0b25lJ30KCQkJICAgKQoJCQkgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJIAlzZWxmLmRhdGFzID0gcmVzcG9uc2UuZGF0YTsKCQkJIAljb25zb2xlLmxvZyhzZWxmLmRhdGFzKTsKCQkJICAgfSkKCQkJICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewoJCQkgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCQkJICAgfSk7CgkJCSAgIHNlbGYuc2hvdyA9IHRydWUKCQkgfQoKCSAgICB9LAoKCgkgbW91bnRlZCgpewogICAgIGNvbnNvbGUubG9nKCd5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5JykKCQkgICAgICAgICAgIHZhciBzZWxmPXRoaXMKICAgICAgICAgICAgZ2V0X2FsbF9icmFuY2hlcygpCgkJCQkJICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKCgkJCQkJCXNlbGYub3B0aW9ucz0gcmVzcG9uc2UuZGF0YTsKCQkJCQkvLwljb25zb2xlLmxvZyhzZWxmLm9wdGlvbnMpOwoKCQkJCQkgIH0pCgkJCQkJICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CgkJCQkJCWNvbnNvbGUubG9nKGVycm9yKTsKCQkJCQkgIH0pOwoKCgkJCQkJICBsZXQgc2VsZWN0ZWRSZWxlYXNlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgic2VsZWN0ZWRSZWxlYXNlIikKCQkJCQkgIGlmIChzZWxlY3RlZFJlbGVhc2UpewoJCQkJCQkgIHRoaXMuYnJhbmNoID0gc2VsZWN0ZWRSZWxlYXNlCgoJCQkJCQkgIHRoaXMuc2hvd19icmFuY2goKQoJCQkJCSAgfQoKCgkJCQl9LAoJIGRhdGEoKXsKCQkgcmV0dXJuIHsKCQkJIHNob3c6ICdzaG93IG1lIHl5eScsCgkJCSBkYXRhczpbXSwKCQkJIG9wdGlvbnM6IFtdLAoJCQkgYnJhbmNoOiAnJywKCQkJIHNob3c6IGZhbHNlCgkJIH0KCSB9CgogfQoKCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/query","sourcesContent":["<template>\n</template>\n\n<script>\n</script>\n\n<style>\n</style>\n<template>\n\t<div >\n\n\n\t\t\t  <el-select v-model=\"branch\" placeholder=\"分支选择\" @change=\"show_branch\" >\n\t\t\t    <el-option\n\t\t\t      v-for=\"item in options\"\n\t\t\t      :key=\"item.value\"\n\t\t\t      :label=\"item.label\"\n\t\t\t      :value=\"item.value\">\n\t\t\t    </el-option>\n\t\t\t  </el-select>\n\t\t\t  </el-aside>\n\t\t  <el-table v-if=\"this.show\"\n\t\t    :data=\"datas\" size=\"medium\"\n        height=\"800\" border\n\t\t    style=\"width: 100%\"\n\t\t    :row-class-name=\"tableRowClassName\" >\n\n\t\t  \t<el-table-column\n\t\t  \t  prop=\"service\"\n\t\t  \t  label=\"服务\"\n\t\t  \t  width=\"180\"\n\t\t  \t  >\n\t\t  \t</el-table-column>\n\t\t    <el-table-column\n\t\t      prop= \"requested\"\n\t\t      label=\"发布单提交\"\n\t\t      width=\"180\">\n\t\t    </el-table-column>\n\t\t    <el-table-column\n\t\t      prop=\"block\"\n\t\t      label=\"封板\"\n\t\t      width=\"180\">\n\t\t    </el-table-column>\n\t\t  \t<el-table-column\n\t\t  \t  prop=\"released\"\n\t\t  \t  label=\"已发布\"\n\t\t  \t  >\n\t\t  \t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t  prop=\"created\"\n\t\t\t  label=\"创建时间\"\n\t\t\t  >\n\t\t\t</el-table-column>\n\t\t\t<el-table-column\n\t\t\t  prop=\"deleted\"\n\t\t\t  label=\"删除时间\"\n\t\t\t  >\n\t\t\t</el-table-column>\n\n\n\t\t  </el-table>\n\n\n\n\n  </div>\n</template>\n\n<style>\n  .el-table .warning-row {\n    background: oldlace;\n  }\n\n  .el-table .success-row {\n    background: #f0f9eb;\n  }\n</style>\n\n<script>\nimport { get_all_branches } from '@/api/query'\nimport { get_release_records } from '@/api/query'\nexport default {\n\n\t    methods: {\n\t      tableRowClassName({row, rowIndex}) {\n\t\t\tif (this.datas[rowIndex].released == \"yes\" ){\n\t\t\t\t\treturn  'success-row';\n\t\t\t\t} else if (this.datas[rowIndex].released == \"yes\"){\n\t\t\t\t\t return 'warning-row';\n\t\t\t\t}\n\t\t\t\treturn '';\n\t\t\t},\n\n\t\t show_branch(){\n\t\t\t var self=this\n\t\t\t sessionStorage.setItem('selectedRelease', this.branch)\n\t\t\t let selectedRelease = sessionStorage.getItem(\"selectedRelease\")\n\n        get_release_records({\n\t\t\t     branch: selectedRelease,\n\t\t\t     lastName: 'Flintstone'}\n\t\t\t   )\n\t\t\t   .then(function (response) {\n\t\t\t \tself.datas = response.data;\n\t\t\t \tconsole.log(self.datas);\n\t\t\t   })\n\t\t\t   .catch(function (error) {\n\t\t\t     console.log(error);\n\t\t\t   });\n\t\t\t   self.show = true\n\t\t }\n\n\t    },\n\n\n\t mounted(){\n     console.log('yyyyyyyyyyyyyyyyyyyyyyyyyyyy')\n\t\t           var self=this\n            get_all_branches()\n\t\t\t\t\t  .then(function (response) {\n\n\t\t\t\t\t\tself.options= response.data;\n\t\t\t\t\t//\tconsole.log(self.options);\n\n\t\t\t\t\t  })\n\t\t\t\t\t  .catch(function (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t  });\n\n\n\t\t\t\t\t  let selectedRelease = sessionStorage.getItem(\"selectedRelease\")\n\t\t\t\t\t  if (selectedRelease){\n\t\t\t\t\t\t  this.branch = selectedRelease\n\n\t\t\t\t\t\t  this.show_branch()\n\t\t\t\t\t  }\n\n\n\t\t\t\t},\n\t data(){\n\t\t return {\n\t\t\t show: 'show me yyy',\n\t\t\t datas:[],\n\t\t\t options: [],\n\t\t\t branch: '',\n\t\t\t show: false\n\t\t }\n\t }\n\n }\n\n\n</script>\n"]}]}